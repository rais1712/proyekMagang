<!-- File: app/src/main/res/navigation/nav_graph.xml - PHASE 2 UPDATE -->
<?xml version="1.0" encoding="utf-8"?>
<navigation xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/nav_graph"
    app:startDestination="@id/homeFragment">

    <!-- ✅ PHASE 2: STREAMLINED NAVIGATION - All features enabled -->

    <!-- Home Fragment - Receipt List -->
    <fragment
        android:id="@+id/homeFragment"
        android:name="com.proyek.maganggsp.presentation.home.HomeFragment"
        android:label="Home - Receipt List"
        tools:layout="@layout/fragment_home">

        <!-- ✅ PHASE 2 FIX: Updated argument from noLoket to ppid -->
        <action
            android:id="@+id/action_homeFragment_to_detailLoketActivity"
            app:destination="@id/transactionLogActivity"
            app:enterAnim="@android:anim/slide_in_left"
            app:exitAnim="@android:anim/slide_out_right" />
    </fragment>

    <!-- History Fragment - SIMPLIFIED: Just receipt history -->
    <fragment
        android:id="@+id/historyFragment"
        android:name="com.proyek.maganggsp.presentation.history.HistoryFragment"
        android:label="Receipt History"
        tools:layout="@layout/fragment_history">

        <action
            android:id="@+id/action_historyFragment_to_transactionLogActivity"
            app:destination="@id/transactionLogActivity"
            app:enterAnim="@android:anim/slide_in_left"
            app:exitAnim="@android:anim/slide_out_right" />
    </fragment>

    <!-- Monitor Fragment - SIMPLIFIED: Basic monitoring -->
    <fragment
        android:id="@+id/monitorFragment"
        android:name="com.proyek.maganggsp.presentation.monitor.MonitorFragment"
        android:label="Receipt Monitor"
        tools:layout="@layout/fragment_monitor">

        <action
            android:id="@+id/action_monitorFragment_to_transactionLogActivity"
            app:destination="@id/transactionLogActivity"
            app:enterAnim="@android:anim/slide_in_left"
            app:exitAnim="@android:anim/slide_out_right" />
    </fragment>

    <!-- ✅ PHASE 2 FIX: Transaction Log Activity with updated arguments -->
    <activity
        android:id="@+id/transactionLogActivity"
        android:name="com.proyek.maganggsp.presentation.detail_loket.TransactionLogActivity"
        android:label="Transaction Log Detail"
        tools:layout="@layout/activity_detail_loket">

        <!-- ✅ PHASE 2 FIX: Updated argument name and type -->
        <argument
            android:name="ppid"
            android:defaultValue=""
            app:argType="string" />

        <!-- BACKUP: Keep old argument for backward compatibility during transition -->
        <argument
            android:name="noLoket"
            android:defaultValue=""
            app:argType="string" />
    </activity>

</navigation>

    <!--
    ✅ PHASE 2 NAVIGATION UPDATES:
    1. Changed main argument from "noLoket" to "ppid"
    2. Updated action names to reflect new purpose
    3. Simplified fragment purposes
    4. Added backward compatibility argument
    5. Removed complex conditional logic
    6. All destinations enabled by default

    NEXT: Update NavigationConstants and direction calls
    -->